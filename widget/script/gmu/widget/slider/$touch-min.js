/*
 * Compressed by JSA(www.xidea.org)
 */
(function(A,D,C){var F={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"},_,B,E,$;D.extend(A.Slider.options,{stopPropagation:false,disableScroll:false});A.Slider.register("touch",{_init:function(){var _=this,$=_.getEl();_._handler=function($){_._options.stopPropagation&&$.stopPropagation();return F[$.type]&&_[F[$.type]].call(_,$)};_.on("ready",function(){$.on("touchstart"+_.eventNs,_._handler);_._container.on("click"+_.eventNs,_._handler)})},_onClick:function(){return!$},_onStart:function(F){if(F.touches.length>1)return false;var I=this,H=F.touches[0],A=I._options,G=I.eventNs,D;B={x:H.pageX,y:H.pageY,time:+new Date()};E={};$=false;_=C;D=A.viewNum||1;I._move(A.loop?I._circle(I.index-D):I.index-D,-I.width,0,true);I._move(A.loop?I._circle(I.index+D):I.index+D,I.width,0,true);I.$el.on("touchmove"+G+" touchend"+G+" touchcancel"+G,I._handler)},_onMove:function(D){if(D.touches.length>1||D.scale&&D.scale!==1)return false;var A=this._options,I=A.viewNum||1,F=D.touches[0],C=this.index,K,G,J,H;A.disableScroll&&D.preventDefault();E.x=F.pageX-B.x;E.y=F.pageY-B.y;if(typeof _==="undefined")_=Math.abs(E.x)<Math.abs(E.y);if(!_){D.preventDefault();if(!A.loop)E.x/=(!C&&E.x>0||C===this._items.length-1&&E.x<0)?(Math.abs(E.x)/this.width+1):1;H=this._slidePos;for(K=C-I,G=C+2*I;K<G;K++){J=A.loop?this._circle(K):K;this._translate(J,E.x+H[J],0)}$=true}},_onEnd:function(){this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler);if(!$)return;var N=this,_=N._options,H=_.viewNum||1,A=N.index,O=N._slidePos,L=+new Date()-B.time,F=Math.abs(E.x),K=!_.loop&&(!A&&E.x>0||A===O.length-H&&E.x<0),M=E.x>0?1:-1,C,D,J,G,I;if(L<250){C=F/L;D=Math.min(Math.round(C*H*1.2),H)}else D=Math.round(F/(N.perWidth||N.width));if(D&&!K){N._slide(A,D,M,N.width,_.speed,_,true);if(H>1&&L>=250&&Math.ceil(F/N.perWidth)!==D)N.index<A?N._move(N.index-1,-N.perWidth,_.speed):N._move(N.index+H,N.width,_.speed)}else for(J=A-H,G=A+2*H;J<G;J++){I=_.loop?N._circle(J):J;N._translate(I,O[I],_.speed)}}})})(gmu,gmu.$)