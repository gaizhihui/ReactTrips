/*
 * Compressed by JSA(www.xidea.org)
 */
(function($,A,_){var D=A.fx.cssPrefix,C=A.fx.transitionEnd,B=" translateZ(0)";$.define("Slider",{options:{loop:false,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:"<div class=\"ui-slider-item\"><a href=\"<%= href %>\">"+"<img src=\"<%= pic %>\" alt=\"\" /></a>"+"<% if( title ) { %><p><%= title %></p><% } %>"+"</div>"},_create:function(){var B=this,_=B.getEl(),$=B._options;B.index=$.index;B._initDom(_,$);B._initWidth(_,B.index);B._container.on(C+B.eventNs,A.proxy(B._tansitionEnd,B));A(window).on("ortchange"+B.eventNs,function(){B._initWidth(_,B.index)})},_initDom:function(D,_){var $=_.selector,E=_.viewNum||1,B,C;C=D.find($.container);if(!C.length){C=A("<div></div>");if(!_.content){if(D.is("ul")){this.$el=C.insertAfter(D);C=D;D=this.$el}else C.append(D.children())}else this._createItems(C,_.content);C.appendTo(D)}if((B=C.children()).length<E+1)_.loop=false;while(_.loop&&C.children().length<3*E)C.append(B.clone());this.length=C.children().length;this._items=(this._container=C).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray();this.trigger("done.dom",D.addClass("ui-slider"),_)},_createItems:function(_,$){var B=0,A=$.length;for(;B<A;B++)_.append(this.tpl2html("item",$[B]))},_initWidth:function(A,$,C){var B=this,_;if(!C&&(_=A.width())===B.width)return;B.width=_;B._arrange(_,$);B.height=A.height();B.trigger("width.change")},_arrange:function(B,$){var _=this._items,D=0,A,C;this._slidePos=new Array(_.length);for(C=_.length;D<C;D++){A=_[D];A.style.cssText+="width:"+B+"px;"+"left:"+(D*-B)+"px;";A.setAttribute("data-index",D);this._move(D,D<$?-B:D>$?B:0,0)}this._container.css("width",B*C)},_move:function(_,D,B,$){var C=this._slidePos,A=this._items;if(C[_]===D||!A[_])return;this._translate(_,D,B);C[_]=D;$&&A[_].clientLeft},_translate:function($,E,A){var C=this._items[$],_=C&&C.style;if(!_)return false;_.cssText+=D+"transition-duration:"+A+"ms;"+D+"transform: translate("+E+"px, 0)"+B+";"},_circle:function($,_){var A;_=_||this._items;A=_.length;return($%A+A)%_.length},_tansitionEnd:function($){if(~~$.target.getAttribute("data-index")!==this.index)return;this.trigger("slideend",this.index)},_slide:function(F,C,B,D,A,_){var E=this,$;$=E._circle(F-B*C);if(!_.loop)B=Math.abs(F-$)/(F-$);this._move($,-B*D,0,true);this._move(F,D*B,A);this._move($,0,A);this.index=$;return this.trigger("slide",$,F)},slideTo:function($,D){if(this.index===$||this.index===this._circle($))return this;var _=this._options,A=this.index,C=Math.abs(A-$),B=C/(A-$),E=this.width;D=D||_.speed;return this._slide(A,C,B,E,D,_)},prev:function(){if(this._options.loop||this.index>0)this.slideTo(this.index-1);return this},next:function(){if(this._options.loop||this.index+1<this.length)this.slideTo(this.index+1);return this},getIndex:function(){return this.index},destroy:function(){this._container.off(this.eventNs);A(window).off("ortchange"+this.eventNs);return this.$super("destroy")}})})(gmu,gmu.$)